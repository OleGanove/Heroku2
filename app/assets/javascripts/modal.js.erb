// turbolinks:load anstatt $(document).ready, da Javascript nicht geladen hatte, wenn die Seite gewechselt wurde
function messageContentScript(message) {
  console.log(message);
  window.postMessage({
    direction: "pageToTabRec",
    message: message
  }, "*");
}

$(document).on('turbolinks:load', function(){

  // Klicken außerhalb des Modals
  $('#my-modal').on('hidden.bs.modal', function() {
    messageContentScript("Modal was closed.");
  });

  // Modal wird geöffnet
  $('#new-post').on('click', function() {
    messageContentScript("Modal opened.");
  });

  // If a flash message is present, send the message.
  if ($('.alert').length > 0) {
    messageContentScript($(".alert").text());
  }
});



